{"componentChunkName":"component---src-templates-blog-post-js","path":"/apprentices-will-not-understand-typescript/","result":{"data":{"site":{"siteMetadata":{"title":"WhateverJS Blog"}},"markdownRemark":{"id":"a78e7906-8124-51ff-b779-91faceb0144d","excerpt":"Aha! So here you are to read my story and arguments favoring teaching Typescript instead of Javascript. Unfortunately for you, appreciated reader, this post…","html":"<p>Aha! So here you are to read my story and arguments favoring teaching Typescript instead of Javascript. Unfortunately for you, appreciated reader, this post doesn’t cover the pros and cons around that topic due to there are already plenty of articles on the internet. Instead, this post narrates my journey across how I set up a functional project to demonstrate that is not difficult to start coding Typescript for the Web. Although, before jumping on that track I will tell you why I suggest starting teaching Typescript is the way to go for new Web developers.</p>\n<p>Perhaps, the way I made my statement is somehow wrong. I’m going to rephrase what I suggested:</p>\n<blockquote>\n<p>“Let’s teach Javascript on a configured Typescript environment”.</p>\n</blockquote>\n<p>The idea behind the suggestion is to leverage Typescript’s inferring capabilities on types and let apprentices discover them. Day by day, lesson by lesson, apprentices will learn by themselves that something is supporting them on their long learning Javascript journey, and myself as a coach, I could show them little by little Typescript types and its benefits. From my point of view, this will pay off in the long-term because from the beginning Javascript’s bad parts are avoided. Moreover, companies will love to hired junior developers who already know Typescript.</p>\n<p>But hey, what about <a href=\"https://flow.org\" rel=\"noopener\" target=\"_blank\">Flow</a>? In 2018 I configured a React project bundled with Webpack to include Flow and the result though it was good, the mere configuration task was tiring. In order to not discuss if Flow could be a good tool to learn, I will ask you to do yourself a favor, google it and search job descriptions where knowing Flow is a plus. I’m sure Typescript demand is already on track and by far is winning the poll.</p>\n<p>Now that you are back, you know I always like to start with a User Story, this time my user is an apprentice.</p>\n<h3>User Story</h3>\n<p>As Apprentice<br>\nI want to code a Web project in an environment which provides me the following capabilities:</p>\n<ol>\n<li>I want to be able to develop Web pages using HTML, CSS, and Javascript.</li>\n<li>I want to be able to debug my code using browser’s Web developer tools.</li>\n</ol>\n<h3>Prerequisites</h3>\n<ol>\n<li>Might come handy to read what <a href=\"https://v2.parceljs.org/\" rel=\"noopener\" target=\"_blank\">Parcel.js</a> does.</li>\n</ol>\n<h3>Let’s Do It</h3>\n<p>Previously, I developed this idea (when it was first presented, <a href=\"https://github.com/inglkruiz/js-sdk/tree/1.0.0\" rel=\"noopener\" target=\"_blank\">v1.0.0</a> using Parcel.js <code class=\"language-text\">v1.12.4</code> because as I mentioned before it was the beginning of the year 2020 and I wanted to deliver a functional project ASAP with stable dependencies (as of the time of this writing Parcel.js v2 is still in beta version). Now, nothing is pushing me to deliver fast and I had the idea of using the version <code class=\"language-text\">v2.0.0-beta.1</code>, what could go wrong? I like to experiment and enjoy the journey.</p>\n<p>First, let’s create a folder for the project and inside of it set up a new NPM package:</p>\n<p><em>Using the console/terminal:</em></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=inglkruiz data-host=localhost></span></span><span class=\"token function\">mkdir</span> js-sdk <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">cd</span> ./js-sdk <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">npm</span> init -y</code></pre></div>\n<p>As a result you will end up inside the folder with a single file, the <code class=\"language-text\">package.json</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber 0\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"js-sdk\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now, let’s install <code class=\"language-text\">parcel</code> as a development dependency:</p>\n<p><em>Using the console/terminal:</em></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=inglkruiz data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -D parcel@next</code></pre></div>\n<p>And add two npm scripts (<code class=\"language-text\">start</code> and <code class=\"language-text\">build</code>) to the <code class=\"language-text\">package.json</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber 5\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"parcel serve ./src/index.html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"parcel build ./src/index.html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Next step is to create the folder (<code class=\"language-text\">src</code>) where apprentices will work and inside of it three files: <code class=\"language-text\">index.html</code>, <code class=\"language-text\">index.ts</code> and <code class=\"language-text\">styles.css</code>:</p>\n<h4><code class=\"language-text\">index.html</code></h4>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber 0\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>JS SDK<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>styles.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello world!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>index.ts<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4><code class=\"language-text\">index.ts</code></h4>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello world!\"</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>With this setup Parcel works like a charm, apprentices can run <code class=\"language-text\">npm start</code> and open the URL <a href=\"http://localhost:1234/\" rel=\"noopener\" target=\"_blank\">http://localhost:1234</a> (this is where Parcel serves JS, HTML, CSS files and any other assets of the project).</p>\n<p><em>Note that I didn’t describe the <code class=\"language-text\">css</code> file content because it’s worthless for the purpose of this post.</em></p>\n<p>For our surprise, we have completed the User story. Let’s review the two items mentioned previously:</p>\n<ul>\n<li>I want to be able to develop Web pages using HTML, CSS, and Javascript.</li>\n</ul>\n<p>In addition, apprentices can start coding examples or exercises and Typescript’s inference system will help them to avoid errors like assigning a different type value to a <code class=\"language-text\">number</code> variable.<br>\n<em>These capabilities are provided not by Parcel but by <a href=\"https://code.visualstudio.com\" rel=\"noopener\" target=\"_blank\">Visual Studio Code</a>, the IDE I recommend for Web development.</em></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e5b040e1aef1022b29e459ae9d5a01bc/dd104/typescript-error-assign-string-to-number.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABi0lEQVQoz32SWW/aYBBFP5uy2qaNCZh9MRRsvGAoYCIVlSrbQ5v8gzz2jVT9/y+nY6uKEinqw9Edy+OrOzNWheUdZnyH7R+pjTaUejFFIdPKYMWHTojW9nNUc4Fq+f9HdSJUO6DYD7Cnay6E+jjOcfwrPs4OqF5IYSB99hzVENOm9z65oeNT83/QOD5jpb8w94KofTxT9B9QzgJrvqU6TjBnX6jNNpI2QHOWb1AZmalqLzGiB5qnM+7NM5Ob38KZ2f0fRl+fuAyOWFnSzTdM/0BpuKLQjXMDvR2i5ysJKMikWa2UvCz2I0oysjUM87GtYYQhdd1dYy+uMNwdxjwVs4RKP8n3a7pbytmOuyHl/orSYI3uPYphy6M6PfApuafinajHtxj+SZJ9pxVf013f4h5+0lldUxnvuJDjGdLfCCSx7Lc82lJzU6qC3tuIocyt9xK08R59kqKNduhDaZrsqX+WdNMUSzT7SJNptI7QXckho/xZl/pFneworX+/w+X8LY13eLno4pW+xuMvrOjYIyNmdJMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Typescript error assign string to number\"\n        title=\"Typescript error assign string to number\"\n        src=\"/static/e5b040e1aef1022b29e459ae9d5a01bc/fcda8/typescript-error-assign-string-to-number.png\"\n        srcset=\"/static/e5b040e1aef1022b29e459ae9d5a01bc/12f09/typescript-error-assign-string-to-number.png 148w,\n/static/e5b040e1aef1022b29e459ae9d5a01bc/e4a3f/typescript-error-assign-string-to-number.png 295w,\n/static/e5b040e1aef1022b29e459ae9d5a01bc/fcda8/typescript-error-assign-string-to-number.png 590w,\n/static/e5b040e1aef1022b29e459ae9d5a01bc/efc66/typescript-error-assign-string-to-number.png 885w,\n/static/e5b040e1aef1022b29e459ae9d5a01bc/dd104/typescript-error-assign-string-to-number.png 1064w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>However, if apprentices save the previous code ignoring Typescript’s errors Parcel will compile the code to Javascript with no errors because, although Typescript works out of the box with Parcel it merely strips out the type annotations.</p>\n<blockquote>\n<p>Perhaps we can improve this later but for now let’s leave him learn from his own errors on runtime.</p>\n</blockquote>\n<ul>\n<li>I want to be able to debug my code using browser’s Web developer tools.</li>\n</ul>\n<p>If apprentices open browser’s Web developer tools (in Google Chrome <code class=\"language-text\">Cmd + Opt + I</code>) and navigate to sources tab, they will be able to debug code as it was written.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 506px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec7008bd1b39637ed891664469f96b4f/29f4e/google-chrome-debugging-typescript.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACMklEQVQoz21TWW7bQAzVJdzmJ9Y2WmaRLMna5U2y5CRNgS5B0xToRy/Qo/TMrxzFblIgHw+PpEmaHD4Z2bqAowp4gUQ/jBinW6ySNY7jCZvtAe+vruB5HhaLd2i7HW5uPiBJ1zj0I6bTHeXska1L3N7doygbGFlWwLQsMMaoaAGpYgihIKXmCEEowblCyCUExaRagVNcyOjsx7P9zDEMPwigyOAihrfKIPIGIU0o8hqy3EBECqs8AfN8uDQpI3hkezNf/Bc2mGshzzLUZY2u3aAsKrRNh+1mB8k5CuGjiULk3EetOHxGjW0HzHbfhJE9/EH38zf2v/aonjoUDxWKbz3q70ckXzpUjwO6pwnx5xbmSeF6IoyScOH/YXg8RRDF8CMfTNEqBFecIZ/BZEC/BWf7bVzyDNex4DoOHMuBbVqwLRvMZWCOS3F3Zh23luYLdN4Zr23zeglDSyQvajT0frt9j7Jq6LJihr4ep4u33Qb7w0DoMRynWSo6pvnQD9jtDrN9HCcYWgL6akmSQNHp7z9+wjBMqOpulkdIkklJWuu8mnWm43oA7WtOCVGWI0pzZFULIyVHTyNVBBWtEJN0dAMVJXNDXZhQct20c47vhwhDThDwiAd6rh9hiEeS31d6HiNJUxxolc12h47WKMsKdd3SJA3yvKC1FU0eIaU8IegpqPACreGaGk6OjcG2MFgmDL2SEPofwxlSyhm6mJPvUIHruv9Yf1GvYZOYl8Qm82CS/RfHvHE3RcyvaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Google chrome debugging typescript\"\n        title=\"Google chrome debugging typescript\"\n        src=\"/static/ec7008bd1b39637ed891664469f96b4f/29f4e/google-chrome-debugging-typescript.png\"\n        srcset=\"/static/ec7008bd1b39637ed891664469f96b4f/12f09/google-chrome-debugging-typescript.png 148w,\n/static/ec7008bd1b39637ed891664469f96b4f/e4a3f/google-chrome-debugging-typescript.png 295w,\n/static/ec7008bd1b39637ed891664469f96b4f/29f4e/google-chrome-debugging-typescript.png 506w\"\n        sizes=\"(max-width: 506px) 100vw, 506px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Bonus</h3>\n<p>In software development one of the most important things is <strong>feedback</strong>. When I’m coaching and give exercises to my apprentices I like they have unit tests running whilst they learn to code, I think that unit tests gives them a better feeling of achievement.</p>\n<p>Now, I’m switching to a new User perspective, mine perspective, the coach’s perspective. And again a User Story comes to my mind:</p>\n<h3>User Story</h3>\n<p>As Coach<br>\nI want to be able to cover examples and exercises code with unit tests. Apprentices should be able to execute a command to run tests while developing.</p>\n<h3>Let’s Do It (part 2)</h3>\n<p>Before starting, I have to admit that I thought achieving this would be straightforward but I hit a couple of walls.</p>\n<p>I started by choosing <a href=\"https://jestjs.io/en/\" rel=\"noopener\" target=\"_blank\">Jest Testing Framework</a>, so I installed it and its Typescript types:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=inglkruiz data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -D jest @types/jest</code></pre></div>\n<p>And generated an initial Jest configuration file using <code class=\"language-text\">jest-cli</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=inglkruiz data-host=localhost></span></span>npx jest --init</code></pre></div>\n<p>This commands will ask few questions where you have to answer Y/N or choose a provided option. Here is a capture of my answers:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9fdf822d452fdf7ae52ad31ce2a1e916/48ca3/jest-init-answers.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.62162162162162%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5klEQVQY0z1P207CUBAsCeADBoQWMIAJ15YCJ5WTUnpBIEWDEFF5EP7/S8bdJfRhs2dnzs7MGqYTgqtmL/E0DORdGSxQHvjSH3sa5b4vXKmrM57/1+xQOK4qzYW2gtGYrdBSa1RHAaxxRH0Jy4kyk7uhSRjzdTcWnHeak0SMWPCh4yHXnMCoeyuE+z942x/o3RlqfUJ0uCAgbJ7+Ij5eoTYnDIMP9PwdujrFM4V4ed2i422yEPkWpbMcElQJdHomwW+4yRHTty/MSNSJPjGOD2LAwnZ4m/v+uxg0KB2LFflM06ZTXal/NtR4bvG9RTQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Jest init answers\"\n        title=\"Jest init answers\"\n        src=\"/static/9fdf822d452fdf7ae52ad31ce2a1e916/fcda8/jest-init-answers.png\"\n        srcset=\"/static/9fdf822d452fdf7ae52ad31ce2a1e916/12f09/jest-init-answers.png 148w,\n/static/9fdf822d452fdf7ae52ad31ce2a1e916/e4a3f/jest-init-answers.png 295w,\n/static/9fdf822d452fdf7ae52ad31ce2a1e916/fcda8/jest-init-answers.png 590w,\n/static/9fdf822d452fdf7ae52ad31ce2a1e916/efc66/jest-init-answers.png 885w,\n/static/9fdf822d452fdf7ae52ad31ce2a1e916/48ca3/jest-init-answers.png 1084w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>It generates a <code class=\"language-text\">jest.config.js</code> file with a short description for each option. Note I chose to use Jest when running “test” script AKA <code class=\"language-text\">npm test</code> but I modified it to run and watch for changes:</p>\n<h4><code class=\"language-text\">package.json</code></h4>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber 9\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"parcel serve ./src/index.html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"parcel build ./src/index.html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"jest --watch\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now, here is where I started to scratch my head because, although I had done this before using Parcel v1 I think I didn’t test it properly (I remember it took me 2 hours to build and document it).</p>\n<p>The thing is that Jest doesn’t compile Typescript to Javascript, it is merely a test runner. Therefore, we need to preprocess Typescript files before running them on Jest. For this, we have 3 possible configurations:</p>\n<ol>\n<li>Use <a href=\"https://github.com/azz/jest-runner-tsc\" rel=\"noopener\" target=\"_blank\">jest-runner-tsc</a>.</li>\n<li>Use <a href=\"https://kulshekhar.github.io/ts-jest/\" rel=\"noopener\" target=\"_blank\">ts-jest</a>.</li>\n<li>Use <a href=\"https://babeljs.io/\" rel=\"noopener\" target=\"_blank\">Babel</a>.</li>\n</ol>\n<p>So, I started to evaluate my options.</p>\n<h4>jest-runner-tsc</h4>\n<p>I noticed that the project had 15 commits (as of the time of this writing) and the latest was on October the 16th, 2019. It was better to discard it.</p>\n<h4>ts-jest</h4>\n<p>I started to configure it in the project due to the tool claims to beat the limitations I would get if I use Babel. Here an extract from its documentation:</p>\n<p><em>“While @babel/preset-typescript is a great preset, you must know the limitation of it. Here is what is possible with TypeScript (and ts-jest), which is not with Babel7 and @babel/preset-typescript:<br><br>No type-checking: This is the big PRO of using TypeScript vs Babel, you have type-checking out of the box.”</em></p>\n<p>Nevertheless, its Github issues revealed that indeed they have limitations with typescript and performance. Leaving aside performance because for me it was not an issue, I did find problematic using Typescript in test files because Typescript errors were being caught only when Jest run the tests for the first time (on subsequent runs Typescript errors were ignored), an unfortunate situation for me or for apprentices if I give them unit tests to fix. This is a reported issue <a href=\"https://github.com/kulshekhar/ts-jest/issues/943\" rel=\"noopener\" target=\"_blank\">#943</a>.</p>\n<p>I decided to park the idea and give Babel a try.</p>\n<h4>Babel</h4>\n<p>To add Babel configuration to Jest I had to:</p>\n<ol>\n<li>Install Babel core, its preset for Typescript which strips out Typescript types, and Typescript as development dependency:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=inglkruiz data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -D @babel/core @babel/preset-env @babel/preset-typescript babel-jest typescript</code></pre></div>\n<ol start=\"2\">\n<li>And, create a <code class=\"language-text\">babel.config.js</code> file:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  presets<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"@babel/preset-typescript\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Jest will use Babel configuration thanks to its default configuration value <a href=\"https://jestjs.io/docs/en/configuration#transform-objectstring-pathtotransformer--pathtotransformer-object\"><code class=\"language-text\">transform</code></a> and therefore will be able to run <code class=\"language-text\">.ts</code> files. However, this configuration won’t validate Typescript types.</p>\n<p>At this point, I thought I was going down the rabbit hole because I had not achieved what I wanted and I had read many configurations and documents, all the hassle just to build a boilerplate project for apprentices. With some hope I decided to finish what I had envisioned and adopted a pragmatic approach.</p>\n<p>I realized that I could run Typescript compiler without emitting types and watch for file changes using the command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=inglkruiz data-host=localhost></span></span>npx tsc --noEmit --watch</code></pre></div>\n<p>Then I thought it was OK to have three scripts to run a development environment:</p>\n<h4><code class=\"language-text\">package.json</code></h4>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"parcel serve ./src/index.html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"parcel build ./src/index.html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"type-check:watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc --noEmit --watch\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"jest --watch\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>But, after reflecting a bit I thought it was not what I would expect from a boilerplate project. I mean, to run three different commands and leave open three terminals/consoles are too many distractions.</p>\n<p>Fortunately, I found a npm package to run multiple commands <a href=\"https://github.com/kimmobrunfeldt/concurrently\">concurrently</a>. With that I build two scripts:</p>\n<ol>\n<li><code class=\"language-text\">npm start</code> to start parcel development server and Typescript compiler to validate Types.</li>\n<li><code class=\"language-text\">npm test</code> to start Jest and Typescript compiler to validate Types.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"serve\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"parcel serve ./src/index.html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"concurrently -r \\\"npm:serve\\\" \\\"npm:type-check:watch\\\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"parcel build ./src/index.html\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"type-check\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc --noEmit\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"type-check:watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc --noEmit --watch\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"concurrently -r \\\"jest --watch\\\" \\\"npm:type-check:watch\\\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"coverage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run type-check &amp;&amp; jest --coverage\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Finally, I could run the development environment using two terminals:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bed5ce71cf7d721696309f61e5115bad/e1031/parcel-jest-run-terminal.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABQElEQVQoz41S2XKCQBBE5BDxiCcqiHiACCugqNFoKslz/v97OrNrmRJ9SB66pmt3dqZneiXZ3UJ1NzDdDFWP4nSLyjgRXHUSKKMEpTGDHFGew2BMMpSHEaTeElI/vMYb52jGF2jsAwb7hBm+oxoS55gfoTtrSF1KtmMYuzMsdsZwdUZ/dSoWvYc+zaAsclSCPSqTDQwvhzHNoTkpTFLJH8qjNdzsCz32hnJ6QDN6RY3upI7/rFQo6ASQ2nTZpdj1r4mCB4Lr1Ci8fIsG9fQE3Uuh2WvIg0igoPRJ8iOoaNlO0KPVtIMD1EEsVqGMGCFGyVoVVf4+vD98jFaEl+URLX+PxnyHxmKH2oybl0InAwtF/1TIE0lVbZYLMzrhUaBFaut0xn8Dd/7/BWlkbpZGahQySKNxVZuJsfkeBSeVt+Y/kNbQGIe0rokAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Parcel and Jest running in different terminals\"\n        title=\"Parcel and Jest running in different terminals\"\n        src=\"/static/bed5ce71cf7d721696309f61e5115bad/fcda8/parcel-jest-run-terminal.png\"\n        srcset=\"/static/bed5ce71cf7d721696309f61e5115bad/12f09/parcel-jest-run-terminal.png 148w,\n/static/bed5ce71cf7d721696309f61e5115bad/e4a3f/parcel-jest-run-terminal.png 295w,\n/static/bed5ce71cf7d721696309f61e5115bad/fcda8/parcel-jest-run-terminal.png 590w,\n/static/bed5ce71cf7d721696309f61e5115bad/e1031/parcel-jest-run-terminal.png 803w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Conclusion</h3>\n<p>Parcel bundler does achieve a good job in being a <em>“Blazing fast, zero configuration web application bundler”</em>, it fulfills <a href=\"https://github.com/parcel-bundler/parcel#features\" rel=\"noopener\" target=\"_blank\">basic web development needs</a>. However, I would not recommend its usage to build Web applications for any serious business. The lack of support for Typescript reflected in <a href=\"https://github.com/parcel-bundler/parcel/issues/4022\" rel=\"noopener\" target=\"_blank\">this Github issue</a> needs all the attention possible and adopting a unit tests framework will be attractive.</p>\n<p>I did this exercise to challenge myself but I consider this type of efforts in solitary are tiring. A best solution to coach on modern web development would be to use tools like <a href=\"https://codesandbox.io/\" rel=\"noopener\" target=\"_blank\">codesandbox.io</a>, and to play only with Typescript <a href=\"https://www.typescriptlang.org/play\" rel=\"noopener\" target=\"_blank\">TS Playground</a>.</p>\n<p>For companies, if they use Angular or React there are specific tools to manage project for each. Taking the approach of building an in-house solution to build and deploy Web applications should be evaluated technically and from the business perspective as well (is it the purpose of the team to maintain such a tool?). From my experience and perspective, I have maintained Webpack configurations for companies’ projects and the effort is not worth if you are the only one taking care of it but receive all team member complains.<br>\nThat being said, I could recommend <a href=\"https://github.com/nrwl/nx\" rel=\"noopener\" target=\"_blank\">Nx</a> to any company having different JS/TS projects and looking to integrate them in a Monorepo to leverage code reusability. It is the tool I think of whenever I have to start a project of any size.</p>\n<blockquote>\n<p>I hope you liked it.</p>\n</blockquote>","frontmatter":{"title":"Apprentices won't understand Typescript, I heard","date":"October 04, 2020","description":"Early this year I was asked to give an introductory <strong>Javascript</strong> course of three classes (something I already did in the past twice). Although, I like teaching I had to reject the idea and suggested to change to <strong>Typescript</strong>, the result? I built a small project using <strong>Parcel.js</strong> bundler, shared it, and got ignored."},"fields":{"readingTime":{"text":"11 min read"}}}},"pageContext":{"slug":"/apprentices-will-not-understand-typescript/","previous":{"fields":{"slug":"/templateref-projection-with-context-inside-component/"},"frontmatter":{"title":"TemplateRef projection with Context in an Angular Component"}},"next":{"fields":{"slug":"/testing-exported-functions-using-jest/"},"frontmatter":{"title":"Testing named exported recursive functions using Jest"}}}},"staticQueryHashes":["414608701","63159454"]}