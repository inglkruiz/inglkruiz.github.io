<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:125%/1.45 'Quattrocento Sans',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Quattrocento Sans',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0.90625rem;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1.1487rem;line-height:1.45rem;border-left:0.54375rem solid #3ab159;color:hsla(0,0%,0%,0.65);font-style:italic;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#3ab159;text-decoration:none;text-shadow:none;background-image:none;}a:hover,a:active{text-shadow:none;background-image:none;}h1,h2,h3,h4,h5,h6{margin-top:2.175rem;margin-bottom:0.725rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.45rem;color:hsla(0,0%,0%,0.8);font-style:normal;font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){html{font-size:106.25%;line-height:24.65px;}blockquote{border-left:0.27187rem solid #3ab159;color:hsla(0,0%,0%,0.59);padding-left:0.81563rem;font-style:italic;margin-left:-1.0875rem;margin-right:0;}}body,h1,h2,h3,h4,h5,h6,blockquote{color:#dfdfdf;}a:hover,a:focus{color:#61c57b;}</style><style data-href="/styles.b5d800c96449fc596c06.css">@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:100;src:local("Work Sans Thin "),local("Work Sans-Thin"),url(/static/work-sans-latin-100-24f5a8074e3803a12982e22c831819fe.woff2) format("woff2"),url(/static/work-sans-latin-100-6f4dfce23e0e0a5d58de55b765d370e1.woff) format("woff")}@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:200;src:local("Work Sans Extra Light "),local("Work Sans-Extra Light"),url(/static/work-sans-latin-200-3006ae970881948027437c4bfde8dbaf.woff2) format("woff2"),url(/static/work-sans-latin-200-cfe3ca0acf6041e2d041fa5e78d25462.woff) format("woff")}@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:300;src:local("Work Sans Light "),local("Work Sans-Light"),url(/static/work-sans-latin-300-9952fbcb7e57e6b5568995f1906db693.woff2) format("woff2"),url(/static/work-sans-latin-300-4813464bf253bbfebb7c83240387072e.woff) format("woff")}@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Work Sans Regular "),local("Work Sans-Regular"),url(/static/work-sans-latin-400-238c66f0f32567f8b025fa462b139235.woff2) format("woff2"),url(/static/work-sans-latin-400-7da66178eb5f266e1d5a9c5c72344c51.woff) format("woff")}@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:500;src:local("Work Sans Medium "),local("Work Sans-Medium"),url(/static/work-sans-latin-500-de83f55b9291ee1bd05c8ebfb451e088.woff2) format("woff2"),url(/static/work-sans-latin-500-97a67d1aeb3c18ca193be4b4d4632546.woff) format("woff")}@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:600;src:local("Work Sans SemiBold "),local("Work Sans-SemiBold"),url(/static/work-sans-latin-600-dd4fdc27521a8dbf8c5fb5d3cc1e759d.woff2) format("woff2"),url(/static/work-sans-latin-600-1d85c87168a88c21786996793cf80368.woff) format("woff")}@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Work Sans Bold "),local("Work Sans-Bold"),url(/static/work-sans-latin-700-539ed1a07cb8b137b6825efd1789c2f3.woff2) format("woff2"),url(/static/work-sans-latin-700-bf12e11e6477f5cee412515ee11de0bf.woff) format("woff")}@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:800;src:local("Work Sans ExtraBold "),local("Work Sans-ExtraBold"),url(/static/work-sans-latin-800-734b1df3fa7949b89693621482f32b66.woff2) format("woff2"),url(/static/work-sans-latin-800-f5ef022da151d1d96a573fc699636e4b.woff) format("woff")}@font-face{font-family:Work Sans;font-style:normal;font-display:swap;font-weight:900;src:local("Work Sans Black "),local("Work Sans-Black"),url(/static/work-sans-latin-900-7c53f5d87a203dbcdae18408c2155887.woff2) format("woff2"),url(/static/work-sans-latin-900-276aab86dc8f226e783dc91073083c4b.woff) format("woff")}@font-face{font-family:Quattrocento Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Quattrocento Sans Regular "),local("Quattrocento Sans-Regular"),url(/static/quattrocento-sans-latin-400-f9042c36d4c29ef78b60ea3b9fc4d8f3.woff2) format("woff2"),url(/static/quattrocento-sans-latin-400-044b97f04108f1c6835c2ecbbc0be210.woff) format("woff")}@font-face{font-family:Quattrocento Sans;font-style:italic;font-display:swap;font-weight:400;src:local("Quattrocento Sans Regular italic"),local("Quattrocento Sans-Regularitalic"),url(/static/quattrocento-sans-latin-400italic-27fc95214d4aa8893f02c7c414cf6bcc.woff2) format("woff2"),url(/static/quattrocento-sans-latin-400italic-40eb9fc5233c8d4b4c8bdade9ea95665.woff) format("woff")}@font-face{font-family:Quattrocento Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Quattrocento Sans Bold "),local("Quattrocento Sans-Bold"),url(/static/quattrocento-sans-latin-700-7f02408bfd734f2f928efa102417383e.woff2) format("woff2"),url(/static/quattrocento-sans-latin-700-a09ad244035860c9c037fde492cbc036.woff) format("woff")}@font-face{font-family:Quattrocento Sans;font-style:italic;font-display:swap;font-weight:700;src:local("Quattrocento Sans Bold italic"),local("Quattrocento Sans-Bolditalic"),url(/static/quattrocento-sans-latin-700italic-9c8ad69a85a974a0d82f648a0acc161e.woff2) format("woff2"),url(/static/quattrocento-sans-latin-700italic-a52268ee293b4b2574ac9110e2f5a369.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.command-line-prompt{border-right:1px solid #999;display:block;float:left;font-size:100%;letter-spacing:-1px;margin-right:1em;pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.command-line-prompt>span:before{color:#999;content:" ";display:block;padding-right:.8em}.command-line-prompt>span[data-user]:before{content:"[" attr(data-user) "@" attr(data-host) "] $"}.command-line-prompt>span[data-user=root]:before{content:"[" attr(data-user) "@" attr(data-host) "] #"}.command-line-prompt>span[data-prompt]:before{content:attr(data-prompt)}body{background-color:#262626}hr{background:#dfdfdf}code[class*=language-],pre[class*=language-]{font-size:.85em}.gatsby-highlight-code-line{background-color:#44463c;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;border-left:.25em solid #ffec99;line-height:1.75}.gatsby-highlight{border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto}.gatsby-highlight pre[class*=language-]{background-color:transparent;margin:0;padding:0;overflow:initial;float:left;min-width:100%}.gatsby-highlight pre[class*=language-].line-numbers{padding-left:2.8em}ol code[class*=language-text],p code[class*=language-text],ul code[class*=language-text]{color:#e6db74}.command-line-prompt{line-height:2}</style><meta name="generator" content="Gatsby 2.24.67"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=fb715d72022219140fce8e3931088bbf" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fb715d72022219140fce8e3931088bbf"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fb715d72022219140fce8e3931088bbf"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fb715d72022219140fce8e3931088bbf"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fb715d72022219140fce8e3931088bbf"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fb715d72022219140fce8e3931088bbf"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fb715d72022219140fce8e3931088bbf"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fb715d72022219140fce8e3931088bbf"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fb715d72022219140fce8e3931088bbf"/><title data-react-helmet="true">Reusable Angular Material Input Autocomplete form control | WhateverJS Blog</title><meta data-react-helmet="true" name="description" content="In this example I will use an Angular Material Autocomplete form control and show how to implement &lt;strong&gt;@angular/forms ControlValueAccessor&lt;/strong&gt; interface to build a reusable form control. The form control will display a message (like an option) while it waits for results and a message when no results were found."/><meta data-react-helmet="true" property="og:title" content="Reusable Angular Material Input Autocomplete form control"/><meta data-react-helmet="true" property="og:description" content="In this example I will use an Angular Material Autocomplete form control and show how to implement &lt;strong&gt;@angular/forms ControlValueAccessor&lt;/strong&gt; interface to build a reusable form control. The form control will display a message (like an option) while it waits for results and a message when no results were found."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Luis C. Ruiz"/><meta data-react-helmet="true" name="twitter:title" content="Reusable Angular Material Input Autocomplete form control"/><meta data-react-helmet="true" name="twitter:description" content="In this example I will use an Angular Material Autocomplete form control and show how to implement &lt;strong&gt;@angular/forms ControlValueAccessor&lt;/strong&gt; interface to build a reusable form control. The form control will display a message (like an option) while it waits for results and a message when no results were found."/><link as="script" rel="preload" href="/webpack-runtime-89dd40560af7f881daea.js"/><link as="script" rel="preload" href="/styles-bc72ca78f9bad9fb1f45.js"/><link as="script" rel="preload" href="/framework-83e11af5cf111be5ad89.js"/><link as="script" rel="preload" href="/app-36d8b2a80e86e332723a.js"/><link as="script" rel="preload" href="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-e5181e4d6a9948dbeecf.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-259fbc9e3d11e0527d3f.js"/><link as="fetch" rel="preload" href="/page-data/angular-material-reusable-autocomplete/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/414608701.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:46.4rem;padding:2.175rem 1.0875rem"><header><h3 style="margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">WhateverJS Blog</a></h3></header><main><article><header><h1 style="margin-top:1.45rem;margin-bottom:0">Reusable Angular Material Input Autocomplete form control</h1><p style="font-size:0.87055rem;line-height:1.45rem;display:block;margin-bottom:1.45rem">December 22, 2019<!-- --> - <!-- -->9 min read</p></header><section><p>In this example I want to show you how to implement the <code class="language-text">ControlValueAccessor</code> interface from <strong><em><code class="language-text">@angular/forms</code></em></strong> package in order to build a reusable Form Control.</p>
<p>Before starting I will ask you to open the following link > <a href="https://stackblitz.com/edit/angular-sbcm7h-oibfvx">Stackblitz - Reusable Angular Material Input Autocomplete form control</a> where you will find the working example. Along this post I will describe briefly the approach I took and my reasoning about some decisions.</p>
<h2>User Story</h2>
<p>As User I want to be able to search X product by its name and select it.</p>
<h4>Conditions:</h4>
<ol>
<li>When: I type 3 or more characters matching the product’s name I want to see a list of options to select one of them.</li>
<li>When: The search is being carried out I want know it.</li>
<li>When: The search has no results I want to know it.</li>
</ol>
<h2>Developer’s decisions</h2>
<ol>
<li>Each option must have an Identifier (with that value I will know when a provided option was selected) and a label/text (which will replace the written text by the user after selecting an option).</li>
<li>The form control must not know how to perform the options’ search. I would like to use the same component to search for Y, Z or W product (being Y, Z and W of different categories). The input’s placeholder and the number of characters to trigger the search action must be configurable.</li>
<li>Since I pretend to use this component to execute other searches I will make the minimum characters’ length to trigger the search a component parameter.</li>
</ol>
<h2>Prerequisites</h2>
<ol>
<li>An Angular project v8+ with <a href="https://material.angular.io/guide/getting-started#install-angular-material">Angular Material installed</a>.</li>
<li>Knowledge on how to use <a href="https://angular.io/guide/reactive-forms">Angular Reactive Forms</a>.</li>
<li>Knowledge about the <code class="language-text">ControlValueAccessor</code> interface. What is its purpose? In case you do not know about this here is a good video where <a href="https://twitter.com/karaforthewin">@karaforthewin</a> explains advance topics on Angular Forms and 2 different approaches to implement the interface. Also you can find some other examples (I found most of them use the approach of providing <code class="language-text">NG_VALUE_ACCESSOR</code>, here I do not).</li>
</ol>
<h2>Let’s Do It</h2>
<p>I will create an Angular Module to export the component. Since I want to use it in other places this will give some portability. Remember this module will require to have installed Angular Material.</p>
<p>Let’s scaffold a component using <code class="language-text">angular-cli</code>:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="command-line-prompt"><span data-user=inglkruiz data-host=localhost></span></span>ng generate component input-autocomplete</code></pre></div>
<p>To build the component you will need to import into your Angular Module the following modules: <code class="language-text">ReactiveFormsModule</code>, <code class="language-text">MatInputModule</code>, <code class="language-text">MatAutocompleteModule</code>, <code class="language-text">MatOptionModule</code>, <code class="language-text">MatIconModule</code>.</p>
<h4>Component’s module</h4>
<div class="gatsby-highlight" data-language="typescript"><pre style="counter-reset: linenumber 0" class="language-typescript line-numbers"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> CommonModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/common"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/core"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ReactiveFormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/forms"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  MatAutocompleteModule<span class="token punctuation">,</span>
  MatIconModule<span class="token punctuation">,</span>
  MatInputModule<span class="token punctuation">,</span>
  MatOptionModule<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/material"</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> InputAutocompleteComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./input-autocomplete.component"</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>InputAutocompleteComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    CommonModule<span class="token punctuation">,</span>
    ReactiveFormsModule<span class="token punctuation">,</span>
    MatInputModule<span class="token punctuation">,</span>
    MatAutocompleteModule<span class="token punctuation">,</span>
    MatOptionModule<span class="token punctuation">,</span>
    MatIconModule<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  exports<span class="token operator">:</span> <span class="token punctuation">[</span>InputAutocompleteComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">InputAutocompleteModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<blockquote>
<p>Now, let’s work in the component.</p>
</blockquote>
<h4>Template:</h4>
<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber 0" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-form-field</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
    <span class="token attr-name">matInput</span>
    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
    <span class="token attr-name">[matAutocomplete]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span>
    <span class="token attr-name">matAutocompletePosition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>below<span class="token punctuation">"</span></span>
    <span class="token attr-name">[formControl]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inputControl<span class="token punctuation">"</span></span>
    <span class="token attr-name">[placeholder]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>placeholder<span class="token punctuation">"</span></span>
    <span class="token attr-name">required</span>
    <span class="token attr-name">(blur)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onTouched()<span class="token punctuation">"</span></span>
  <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span> <span class="token attr-name">matSuffix</span><span class="token punctuation">></span></span>search<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-error</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!inputControl.valid &amp;&amp; inputControl.errors?.required<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    This field is required
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-error</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-form-field</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-autocomplete</span>
  <span class="token attr-name">#auto</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>matAutocomplete<span class="token punctuation">"</span></span>
  <span class="token attr-name">autoActiveFirstOption</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name">[displayWith]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>displayFn<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-option</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isSearching; else optionsTemplate<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span>Searching...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-option</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#optionsTemplate</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-option</span>
      <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>let option of options<span class="token punctuation">"</span></span>
      <span class="token attr-name">[value]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option<span class="token punctuation">"</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>provided<span class="token punctuation">"</span></span>
    <span class="token punctuation">></span></span>
      {{ option.label }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-option</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-option</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!isSearching &amp;&amp; noResults<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>No results found<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-option</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-autocomplete</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Basically the template uses:</p>
<ul>
<li>A <code class="language-text">MatFormField</code> with a <code class="language-text">MatInput</code> type text, and a <code class="language-text">MatAutocomplete</code> as is described in the <a href="https://material.angular.io/components/autocomplete/overview#simple-autocomplete">component’s guide</a>.</li>
<li>
<p>It uses 3 <code class="language-text">MatOption</code> elements inside the <code class="language-text">MatAutocomplete</code>:</p>
<ul>
<li>The 1st <code class="language-text">MatOption</code> is to display a message while the search is running.</li>
<li>The 2nd <code class="language-text">MatOption</code> has a <code class="language-text">*ngFor</code> directive and works IF results are found.</li>
<li>The last <code class="language-text">MatOption</code> is to display a message when no results are found.</li>
</ul>
</li>
</ul>
<h4>Controller</h4>
<div class="gatsby-highlight has-highlighted-lines" data-language="typescript"><pre style="counter-reset: linenumber 0" class="language-typescript line-numbers"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>
  ChangeDetectionStrategy<span class="token punctuation">,</span>
  ChangeDetectorRef<span class="token punctuation">,</span>
  Component<span class="token punctuation">,</span>
  Input<span class="token punctuation">,</span>
  OnChanges<span class="token punctuation">,</span>
  OnInit<span class="token punctuation">,</span>
  Optional<span class="token punctuation">,</span>
  Self<span class="token punctuation">,</span>
  SimpleChanges<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/core"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  AbstractControl<span class="token punctuation">,</span>
  ControlValueAccessor<span class="token punctuation">,</span>
  FormControl<span class="token punctuation">,</span>
  NgControl<span class="token punctuation">,</span>
  ValidationErrors<span class="token punctuation">,</span>
  ValidatorFn<span class="token punctuation">,</span>
  Validators<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/forms"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> coerceNumberProperty <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/cdk/coercion"</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"rxjs"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> debounceTime <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"rxjs/operators"</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  label<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">/**</span>
<span class="token comment"> * Validates if the value passed has a code in order to be declared as an</span>
<span class="token comment"> * object provided by material autocomplete options</span>
<span class="token comment"> */</span>
<span class="token keyword">function</span> <span class="token function">isAutocompleteOption</span><span class="token punctuation">(</span>value<span class="token operator">:</span> Identifiable<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value <span class="token operator">||</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token keyword">return</span> value<span class="token punctuation">.</span>id <span class="token operator">></span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token comment">/**</span>
<span class="token comment"> * Validates the control value to have an `id` attribute. It is expected</span>
<span class="token comment"> * control value to be an object.</span>
<span class="token comment"> */</span>
<span class="token keyword">function</span> <span class="token function">containsIdValidation</span><span class="token punctuation">(</span>control<span class="token operator">:</span> AbstractControl<span class="token punctuation">)</span><span class="token operator">:</span> ValidationErrors <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">isAutocompleteOption</span><span class="token punctuation">(</span>control<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">"input-autocomplete"</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">"./input-autocomplete.component.html"</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./input-autocomplete.component.css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  changeDetection<span class="token operator">:</span> ChangeDetectionStrategy<span class="token punctuation">.</span>OnPush<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">InputAutocompleteComponent</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">implements</span> <span class="token class-name">OnInit</span><span class="token punctuation">,</span> ControlValueAccessor<span class="token punctuation">,</span> OnChanges <span class="token punctuation">{</span></span>  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> placeholder<span class="token operator">:</span> <span class="token builtin">string</span>
  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> options<span class="token operator">:</span> Identifiable<span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token comment">// Inner form control to link input text changes to mat autocomplete</span>
  inputControl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>validators<span class="token punctuation">)</span>
  searchResults<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span>
  noResults <span class="token operator">=</span> <span class="token boolean">false</span>
  isSearching <span class="token operator">=</span> <span class="token boolean">false</span>

  <span class="token keyword">private</span> _lengthToTriggerSearch <span class="token operator">=</span> <span class="token number">3</span>

  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">set</span> <span class="token function">lengthToTriggerSearch</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_lengthToTriggerSearch <span class="token operator">=</span> <span class="token function">coerceNumberProperty</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">constructor</span><span class="token punctuation">(</span></span><span class="gatsby-highlight-code-line">    @<span class="token function">Optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span> @<span class="token function">Self</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">private</span> controlDir<span class="token operator">:</span> NgControl<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">private</span> changeDetectorRef<span class="token operator">:</span> ChangeDetectorRef</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">)</span> <span class="token punctuation">{</span></span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>controlDir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>controlDir<span class="token punctuation">.</span>valueAccessor <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>controlDir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Set validators for the outer ngControl equals to the inner</span>
      <span class="token keyword">const</span> control <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>controlDir<span class="token punctuation">.</span>control
      <span class="token keyword">const</span> validators <span class="token operator">=</span> control<span class="token punctuation">.</span>validator
        <span class="token operator">?</span> <span class="token punctuation">[</span>control<span class="token punctuation">.</span>validator<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputControl<span class="token punctuation">.</span>validator<span class="token punctuation">]</span>
        <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputControl<span class="token punctuation">.</span>validator
      control<span class="token punctuation">.</span><span class="token function">setValidators</span><span class="token punctuation">(</span>validators<span class="token punctuation">)</span>
      <span class="token comment">// Update outer ngControl status</span>
      control<span class="token punctuation">.</span><span class="token function">updateValueAndValidity</span><span class="token punctuation">(</span><span class="token punctuation">{</span> emitEvent<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line">  <span class="token function">ngOnChanges</span><span class="token punctuation">(</span>changes<span class="token operator">:</span> SimpleChanges<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>changes<span class="token punctuation">.</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isSearching<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>isSearching <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="gatsby-highlight-code-line"></span><span class="gatsby-highlight-code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span></span><span class="gatsby-highlight-code-line">          <span class="token operator">!</span>changes<span class="token punctuation">.</span>options<span class="token punctuation">.</span>firstChange <span class="token operator">&amp;&amp;</span></span><span class="gatsby-highlight-code-line">          <span class="token operator">!</span>changes<span class="token punctuation">.</span>options<span class="token punctuation">.</span>currentValue<span class="token punctuation">.</span>length</span><span class="gatsby-highlight-code-line">        <span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          <span class="token keyword">this</span><span class="token punctuation">.</span>noResults <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          <span class="token keyword">this</span><span class="token punctuation">.</span>noResults <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span></span>      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**</span>
<span class="token comment">   * Allows Angular to update the inputControl.</span>
<span class="token comment">   * Update the model and changes needed for the view here.</span>
<span class="token comment">   */</span>
  <span class="token function">writeValue</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    obj <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputControl<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**</span>
<span class="token comment">   * Allows Angular to register a function to call when the inputControl changes.</span>
<span class="token comment">   */</span>
  <span class="token function">registerOnChange</span><span class="token punctuation">(</span>fn<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token comment">// Pass the value to the outer ngControl if it has an id otherwise pass null</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>inputControl<span class="token punctuation">.</span>valueChanges<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">debounceTime</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isMinLength</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">            <span class="token keyword">this</span><span class="token punctuation">.</span>isSearching <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="gatsby-highlight-code-line">            <span class="token comment">/**</span></span><span class="gatsby-highlight-code-line"><span class="token comment">             * Fire change detection to display the searching status option</span></span><span class="gatsby-highlight-code-line"><span class="token comment">             */</span></span><span class="gatsby-highlight-code-line">            <span class="token keyword">this</span><span class="token punctuation">.</span>changeDetectorRef<span class="token punctuation">.</span><span class="token function">detectChanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">            <span class="token function">fn</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">            <span class="token keyword">this</span><span class="token punctuation">.</span>isSearching <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="gatsby-highlight-code-line">            <span class="token keyword">this</span><span class="token punctuation">.</span>noResults <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="gatsby-highlight-code-line"></span><span class="gatsby-highlight-code-line">            <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">          <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          <span class="token function">fn</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>  <span class="token punctuation">}</span>

  <span class="token comment">/**</span>
<span class="token comment">   * Allows Angular to register a function to call when the input has been touched.</span>
<span class="token comment">   * Save the function as a property to call later here.</span>
<span class="token comment">   */</span>
  <span class="token function">registerOnTouched</span><span class="token punctuation">(</span>fn<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onTouched <span class="token operator">=</span> fn
  <span class="token punctuation">}</span>

  <span class="token comment">/**</span>
<span class="token comment">   * Allows Angular to disable the input.</span>
<span class="token comment">   */</span>
  setDisabledState<span class="token operator">?</span><span class="token punctuation">(</span>isDisabled<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    isDisabled <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputControl<span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputControl<span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**</span>
<span class="token comment">   * Function to call when the input is touched.</span>
<span class="token comment">   */</span>
  <span class="token function">onTouched</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">/**</span>
<span class="token comment">   * Method linked to the mat-autocomplete `[displayWith]` input.</span>
<span class="token comment">   * This is how result name is printed in the input box.</span>
<span class="token comment">   */</span>
  <span class="token function">displayFn</span><span class="token punctuation">(</span>result<span class="token operator">:</span> Identifiable<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> result <span class="token operator">?</span> result<span class="token punctuation">.</span>label <span class="token operator">:</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">}</span>

  <span class="token function">isMinLength</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span>length <span class="token operator">>=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_lengthToTriggerSearch
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">get</span> <span class="token function">validators</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ValidatorFn<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>Validators<span class="token punctuation">.</span>required<span class="token punctuation">,</span> containsIdValidation<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>I wrote code to be self-explanatory and I hope you understand it.
Even though, here are some key takeaways:</p>
<ol>
<li>On line <strong>55</strong> the interface <code class="language-text">ControlValueAccessor</code> is declared to be implemented by the component.</li>
<li>On line <strong>72</strong> the component constructor gets the instance of a <code class="language-text">NgControl</code>. This means you can use <code class="language-text">ngModel</code>
or a <code class="language-text">[formControl]</code> | <code class="language-text">formControlName</code>, template driven or reactive form respectively.</li>
<li>On line <strong>94</strong> <code class="language-text">ngOnChanges</code> turn off <code class="language-text">isSearching</code> state if the component receives options to display.
<code class="language-text">isSearching</code> state is triggered when the user types a string with a length greater/equals than 3 characters (default).</li>
<li>
<p>On line <strong>123</strong> the <code class="language-text">inputControl</code> object (which is a <code class="language-text">FormControl</code> and receives updates from the input text)
communicates with the <code class="language-text">NgControl</code> instance mentioned before. The following cases use cases are handled here:</p>
<ol>
<li>When the user types the value is a <code class="language-text">string</code> and after length validation the value is passed
(what to do with the text? the component does not know, he does not care). Outside the component
you have to react to this value, fetch, and filter the values. Since this options are received as
a component input then they will be rendered.</li>
<li>When the component renders some options to click and the user chooses one then the value is passed
to the outer <code class="language-text">NgControl</code> instance. The value selected will remain unless the user cleans or removes
a character (that action will make the component to emit a <code class="language-text">string</code> value which then will provide
options to select).</li>
</ol>
</li>
</ol>
<p>Observe it is not necessary to provide explicitly <code class="language-text">NG_VALUE_ACCESSOR</code> dependency in the component and it is because <code class="language-text">NgControl</code> dependency is declared (it is optional to avoid an error if is not present). The <code class="language-text">NgControl</code> dependency connects the <code class="language-text">ngModel</code> or <code class="language-text">FormControl</code> directive you declare when using the component to the inner <code class="language-text">FormControl</code> previously described which means this component will work with Angular Template Driven and Reactive Forms, but I encourage you to use the later one. Reactive forms seems to be a bit more complex conceptually speaking but are <a href="https://angular.io/guide/reactive-forms#introduction-to-reactive-forms">more predictable</a>.</p>
<h2>Component’s Usage</h2>
<p>Now, it is time show how to use the component. Do not forget to import the <code class="language-text">InputAutocompleteModule</code> in your main module.</p>
<h4>Template</h4>
<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber 0" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>example-form<span class="token punctuation">"</span></span> <span class="token attr-name">[formGroup]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form<span class="token punctuation">"</span></span> <span class="token attr-name">(ngSubmit)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input-autocomplete</span>
    <span class="token attr-name">formControlName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pokemon<span class="token punctuation">"</span></span>
    <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Pokemon<span class="token punctuation">'</span>s name<span class="token punctuation">"</span></span>
    <span class="token attr-name">[options]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pokemons$ | async<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input-autocomplete</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input-autocomplete</span>
    <span class="token attr-name">formControlName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swCharacter<span class="token punctuation">"</span></span>
    <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SW character<span class="token punctuation">'</span>s name<span class="token punctuation">"</span></span>
    <span class="token attr-name">lengthToTriggerSearch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span>
    <span class="token attr-name">[options]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swCharacters$ | async<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input-autocomplete</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-raised-button</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4>Controller</h4>
<div class="gatsby-highlight" data-language="typescript"><pre style="counter-reset: linenumber 0" class="language-typescript line-numbers"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/core"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormControl<span class="token punctuation">,</span> FormGroup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/forms"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">of</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"rxjs"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> map<span class="token punctuation">,</span> startWith<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> switchMap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"rxjs/operators"</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Identifiable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./input-autocomplete"</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> pokemons<span class="token punctuation">,</span> swCharacters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./data"</span>

<span class="token comment">/**
 * @title Filter autocomplete
 */</span>
@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">"autocomplete-filter-example"</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">"autocomplete-filter-example.html"</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"autocomplete-filter-example.css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AutocompleteFilterExample</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  form <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    pokemon<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    swCharacter<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  pokemons$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"pokemon"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>valueChanges<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">startWith</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">switchMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span>pokemons<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
          <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=></span>
            response<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">=></span> p<span class="token punctuation">.</span>label<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>

  swCharacters$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"swCharacter"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>valueChanges<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">startWith</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">switchMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span>swCharacters<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
          <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=></span>
            response<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">=></span> p<span class="token punctuation">.</span>label<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<blockquote>
<p>I hope you liked it.</p>
</blockquote></section><hr style="margin-bottom:1.45rem"/><footer><div style="margin-bottom:3.625rem"><p>Written by <strong>Luis C. Ruiz</strong>. A proactive and disciplined Sr. Software Engineer (Full-stack Web Developer) with rock-solid programming skills in Javascript/Typescript.<a style="text-align:right;display:block" href="https://www.linkedin.com/in/inglkruiz">Read more about me on LinkedIn.</a></p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0;margin-left:0"><li><a rel="prev" href="/whatever-js/">← <!-- -->What is this Blog about?</a></li><li><a rel="next" href="/templateref-projection-with-context-inside-component/">TemplateRef projection with Context in an Angular Component<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2020<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/angular-material-reusable-autocomplete/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-3275bc0c1eeade6e81f7.js"],"app":["/app-36d8b2a80e86e332723a.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-16703ee5599528db9f93.js"],"component---src-pages-404-js":["/component---src-pages-404-js-167cf145bcc6fba104f5.js"],"component---src-pages-index-js":["/component---src-pages-index-js-24d9c2f5c538a7143d52.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-259fbc9e3d11e0527d3f.js"]};/*]]>*/</script><script src="/polyfill-3275bc0c1eeade6e81f7.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-259fbc9e3d11e0527d3f.js" async=""></script><script src="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-e5181e4d6a9948dbeecf.js" async=""></script><script src="/app-36d8b2a80e86e332723a.js" async=""></script><script src="/framework-83e11af5cf111be5ad89.js" async=""></script><script src="/styles-bc72ca78f9bad9fb1f45.js" async=""></script><script src="/webpack-runtime-89dd40560af7f881daea.js" async=""></script></body></html>